getwd()
load("chs2011.RData")
chs2011$sexualid[!is.na(chs2011$sexualid)]
chs2011$sexualid[is.na(chs2011$sexualid)]
chs2011$sexualid[is.na(chs2011$sexualid)] < NA
chs2011$sexualid[is.na(chs2011$sexualid)] <- NA
chs2011$sexualid[is.na(chs2011$sexualid)]
chs2011[,is.na(1:189)]
chs2011[is.na(ch2011)]
chs2011[is.na(chs2011)]
chs2011[is.na(chs2011)] <- NA
chs2011[is.na(chs2011)]
chs2011$lgb[chs2011$sexualid == 2 & !is.na(chs2011$sexualid)] <- 1
chs2011$lgb[chs2011$sexualid == 3 & !is.na(chs2011$sexualid)] <- 1
chs2011$lgb[chs2011$msm == 1 & !is.na(chs2011$msm)] <- 1
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)] <- 1
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)] <- 1
chs2011$lgb[chs2011$sexualid == 1 & !is.na(chs2011$sexualid)] <- 0
chs2011$lgb[chs2011$sexualid == 2 & !is.na(chs2011$sexualid)]
chs2011$lgb[chs2011$sexualid == 3 & !is.na(chs2011$sexualid)]
chs2011$lgb[chs2011$msm == 1 & !is.na(chs2011$msm)]
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)]
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)]
chs2011$lgb[chs2011$msm == 1 & !is.na(chs2011$msm)] <- 1
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)] <- 1
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)] <- 1
chs2011$lgb[chs2011$sexualid == 1 & !is.na(chs2011$sexualid)] <- 0
chs2011$lgb[chs2011$msm == 1 & !is.na(chs2011$msm)]
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)]
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)]
chs2011$wsw
load("chs2011.RData")
fix(chs2011)
chs2011$lgb[chs2011$msm == 1 & !is.na(chs2011$msm)] <- 1
chs2011$lgb[chs2011$msm == 1 & !is.na(chs2011$msm)]
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)] <- 1
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)]
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)] <- 1
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)]
chs2011$lgb[chs2011$sexualid == 1 & !is.na(chs2011$sexualid)] <- 0
chs2011$lgb[chs2011$sexualid == 1 & !is.na(chs2011$sexualid)]
chs2011$lgb[is.na(chs2011$sexualid)]
chs2011$lgb[is.na(chs2011$sexualid) & chs2011$sexualid==1]
chs2011$lgb[is.na(chs2011$sexualid)]
chs2011[is.na(chs2011)] <- NA
chs2011$lgb[chs2011$sexualid == 2 & !is.na(chs2011$sexualid)] <- 1
chs2011$lgb[chs2011$sexualid == 2 & !is.na(chs2011$sexualid)]
chs2011$lgb[chs2011$msm == 1 & !is.na(chs2011$msm)] <- 1
chs2011$lgb[chs2011$msm == 1 & !is.na(chs2011$msm)]
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)] <- 1
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)]
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)] <- 1
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)]
chs2011$lgb[chs2011$sexualid == 1 & !is.na(chs2011$sexualid)] <- 0
chs2011$lgb[chs2011$sexualid == 1 & !is.na(chs2011$sexualid)]
chs2011$lgb[is.na(chs2011$sexualid)] <- NA
chs2011$lgb[is.na(chs2011$sexualid)]
chs2011$lgb[chs2011$sexualid == 2 & !is.na(chs2011$sexualid)]
chs2011$lgb[chs2011$sexualid == 3 & !is.na(chs2011$sexualid)]
chs2011$lgb[chs2011$sexualid == 3 & !is.na(chs2011$sexualid)] <- 1
chs2011$lgb[chs2011$sexualid == 3 & !is.na(chs2011$sexualid)]
chs2011$lgb[chs2011$msm == 1 & !is.na(chs2011$msm)]
chs2011$lgb[chs2011$msm == 1 & !is.na(chs2011$msm)]
chs2011$lgb[chs2011$msm == 1 & !is.na(chs2011$msm)] <- 1
chs2011$lgb[chs2011$msm == 1 & !is.na(chs2011$msm)]
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)]
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)] <- 1
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)]
chs2011$lgb[chs2011$msm == 1 & !is.na(chs2011$msm)] <- 1
chs2011$lgb[chs2011$msm == 1 & !is.na(chs2011$msm)]
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)]
chs2011$lgb[chs2011$msm == 1 & !is.na(chs2011$msm)]
load("chs2011.RData")
#change NaN's to NA
chs2011[is.na(chs2011)] <- NA
chs2011$lgb[chs2011$sexualid == 2 & !is.na(chs2011$sexualid)] <- 1
chs2011$lgb[chs2011$sexualid == 3 & !is.na(chs2011$sexualid)] <- 1
chs2011$lgb[chs2011$msm == 1 & !is.na(chs2011$msm)] <- 1
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)] <- 1
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)] <- 1
chs2011$lgb[chs2011$sexualid == 1 & !is.na(chs2011$sexualid)] <- 0
chs2011$lgb[chs2011$msm == 1 & !is.na(chs2011$msm)]
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)]
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)]
chs2011$lgb[chs2011$msm == 1 & !is.na(chs2011$msm)] <- 1
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)] <- 1
chs2011$lgb[chs2011$msm == 1 & !is.na(chs2011$msm)]
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)]
chs2011$lgb[chs2011$sexualid == 1 & !is.na(chs2011$sexualid)] <- 0
chs2011$lgb[chs2011$sexualid == 1 & !is.na(chs2011$sexualid)]
chs2011$lgb[is.na(chs2011$sexualid)] <- NA
chs2011$lgb[is.na(chs2011$sexualid)]
chs2011$lgb[chs2011$msm == 1 & !is.na(chs2011$msm)]
load("chs2011.RData")
#change NaN's to NA
chs2011[is.na(chs2011)] <- NA
# This section has issues -- I have to manually run some of the lines 2-3 times in order
# for it to encode properly. The results vary each time, which makes it confusing. Using a
# for loop to run the entire section of code a few times didn't work either.
chs2011$lgb[chs2011$sexualid == 2 & !is.na(chs2011$sexualid)] <- 1
chs2011$lgb[chs2011$sexualid == 3 & !is.na(chs2011$sexualid)] <- 1
chs2011$lgb[chs2011$msm == 1 & !is.na(chs2011$msm)] <- 1
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)] <- 1
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)] <- 1
chs2011$lgb[chs2011$sexualid == 1 & !is.na(chs2011$sexualid)] <- 0
chs2011$lgb[chs2011$msm == 1 & !is.na(chs2011$msm)]
chs2011$lgb[chs2011$msm == 1 & !is.na(chs2011$msm)] <- 1
chs2011$lgb[chs2011$msm == 1 & !is.na(chs2011$msm)]
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)]
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)] <- 1
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)]
chs2011$lgb[chs2011$sexualid == 1 & !is.na(chs2011$sexualid)]
chs2011$lgb[chs2011$sexualid == 1 & !is.na(chs2011$sexualid)] <- 0
chs2011$lgb[chs2011$sexualid == 1 & !is.na(chs2011$sexualid)]
chs2011$lgb[is.na(chs2011$sexualid)]
load("chs2011.RData")
#change NaN's to NA
chs2011[is.na(chs2011)] <- NA
chs2011$lgb[chs2011$sexualid == 1 & !is.na(chs2011$sexualid)] <- 0
chs2011$lgb[chs2011$sexualid == 1 & !is.na(chs2011$sexualid)]
chs2011$lgb[chs2011$sexualid == 2 & !is.na(chs2011$sexualid)] <- 1
chs2011$lgb[chs2011$sexualid == 2 & !is.na(chs2011$sexualid)]
chs2011$lgb[chs2011$sexualid == 3 & !is.na(chs2011$sexualid)] <- 1
chs2011$lgb[chs2011$sexualid == 3 & !is.na(chs2011$sexualid)]
chs2011$lgb[chs2011$msm == 1 & !is.na(chs2011$msm)] <- 1
chs2011$lgb[chs2011$msm == 1 & !is.na(chs2011$msm)]
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)] <- 1
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)]
chs2011$lgb[is.na(chs2011$sexualid)]
chs2011$sexualid[is.na(chs2011$sexualid)]
chs2011$lgb[chs2011$msm == 1 & !is.na(chs2011$msm)]
chs2011$sexualid[is.na(chs2011$sexualid)] <- NA
chs2011$lgb[chs2011$msm == 1 & !is.na(chs2011$msm)]
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)]
chs2011$sexualid[is.na(chs2011$sexualid)]
rm(chs2011)
load("chs2011.RData")
#change NaN's to NA
chs2011[is.na(chs2011)] <- NA
# This section has issues -- I have to manually run some of the lines 2-3 times in order
# for it to encode properly. The results vary each time, which makes it confusing. Using a
# for loop to run the entire section of code a few times didn't work either.
chs2011$lgb[chs2011$sexualid == 1 & !is.na(chs2011$sexualid)] <- 0
chs2011$lgb[chs2011$sexualid == 2 & !is.na(chs2011$sexualid)] <- 1
chs2011$lgb[chs2011$sexualid == 3 & !is.na(chs2011$sexualid)] <- 1
chs2011$lgb[chs2011$msm == 1 & !is.na(chs2011$msm)] <- 1
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)] <- 1
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)] <- 1
# R doesn't read '.d' & '.r' values from SAS data. Encode them as 'NA'.
chs2011$sexualid[is.na(chs2011$sexualid)] <- NA
chs2011$lgb[chs2011$msm == 1 & !is.na(chs2011$msm)]
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)]
chs2011$sexualid[is.na(chs2011$sexualid)]
chs2011$lgb[chs2011$sexualid == 1 & !is.na(chs2011$sexualid)]
chs2011$lgb[chs2011$sexualid == 2 & !is.na(chs2011$sexualid)]
chs2011$lgb[chs2011$sexualid == 3 & !is.na(chs2011$sexualid)]
load("chs2011.RData")
#change NaN's to NA
chs2011[is.na(chs2011)] <- NA
# This section has issues -- I have to manually run some of the lines 2-3 times in order
# for it to encode properly. The results vary each time, which makes it confusing. Using a
# for loop to run the entire section of code a few times didn't work either.
chs2011$sexualid[is.na(chs2011$sexualid)] <- NA
chs2011$lgb[chs2011$sexualid == 1 & !is.na(chs2011$sexualid)] <- 0
chs2011$lgb[chs2011$sexualid == 2 & !is.na(chs2011$sexualid)] <- 1
chs2011$lgb[chs2011$sexualid == 3 & !is.na(chs2011$sexualid)] <- 1
chs2011$lgb[chs2011$msm == 1 & !is.na(chs2011$msm)] <- 1
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)] <- 1
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)] <- 1
chs2011$lgb[chs2011$wsw == 1 & !is.na(chs2011$wsw)]
chs2011$lgb[chs2011$msm == 1 & !is.na(chs2011$msm)]
chs2011$lgb[chs2011$sexualid == 3 & !is.na(chs2011$sexualid)]
chs2011$lgb[chs2011$sexualid == 2 & !is.na(chs2011$sexualid)]
chs2011$lgb[chs2011$sexualid == 1 & !is.na(chs2011$sexualid)]
chs2011$sexualid[is.na(chs2011$sexualid)]
load("chs2011.RData")
#change NaN's to NA
chs2011[is.na(chs2011)] <- NA
# This section has issues -- I have to manually run some of the lines 2-3 times in order
# for it to encode properly. I changed the order, first coding the zeros and NA's,
# then coding 1's on top of them for msm, wsw, and sexualid.
chs2011$sexualid[is.na(chs2011$sexualid)] <- NA
chs2011$lgb[chs2011$sexualid == 1] <- 0
chs2011$lgb[chs2011$sexualid == 2] <- 1
chs2011$lgb[chs2011$msm == 1] <- 1
chs2011$lgb[chs2011$sexualid == 3] <- 1
chs2011$lgb[chs2011$wsw == 1] <- 1
chs2011$lgb[chs2011$wsw == 1]
chs2011$lgb[chs2011$msm == 1]
chs2011$lgb[chs2011$sexualid == 3]
chs2011$lgb[chs2011$sexualid == 2]
chs2011$sexualid[is.na(chs2011$sexualid)]
chs2011$lgb[chs2011$sexualid == 1]
chs2011$lgb <- factor(chs2011$lgb)
table(chs2011$lgb)
summary(chs2011$lgb)
chs2011$nocare[is.na(chs2011$didntgetcare11)] <- NA
chs2011$nocare[is.na(chs2011$didntgetcare11)]
chs2011$nocare[chs2011$didntgetcare11 == 2 & !is.na(chs2011$sexualid)] <- 1
chs2011$nocare[chs2011$didntgetcare11 == 2 & !is.na(chs2011$sexualid)]
length(chs2011$didntgetcare11[is.na(chs2011$didntgetcare11)])
length(chs2011$nocare[is.na(chs2011$nocare)])
chs2011$nocare[chs2011$didntgetcare11 == 2 & !is.na(chs2011$sexualid)] <- 1
chs2011$nocare[chs2011$didntgetcare11 == 1] <- 0
length(chs2011$nocare[is.na(chs2011$nocare)])
summary(factor(chs2011$didntgetcare11))
summary(factor(chs2011$nocare))
chs2011$nocare[is.na(chs2011$didntgetcare11)] <- NA
chs2011$nocare[chs2011$didntgetcare11 == 1] <- 0
chs2011$nocare[chs2011$didntgetcare11 == 2 & !is.na(chs2011$sexualid)] <- 1
summary(factor(chs2011$nocare))
chs2011$didntgetcare[is.na(chs2011$didntgetcare11)]
chs2011$didntgetcare[!is.na(chs2011$didntgetcare11)]
chs2011$nocare[!is.na(chs2011$didntgetcare11)] <- 1
chs2011$nocare[chs2011$didntgetcare11 == 1] <- 0
summary(factor(chs2011$nocare))
summary(factor(chs2011$didntgetcare11))
chs2011$nocare <- factor(chs2011$nocare)
summary(chs2011$nocare)
summary(factor(chs2011$povrec))
summary(factor(chs2011$povgroup3))
summary(factor(chs2011$povgroup3-1))
summary(factor(chs2011$didntgetcare11))
summary(factor(chs2011$didntgetcare11-1))
chs2011$nocare <- factor(chs2011$didntgetcare11-1)
summary(factor(chs2011$didntgetcare11))
summary(chs2011$nocare)
summary(chs2011$povrec)
chs2011$povrec <- factor(chs2011$povgroup3-1)
summary(chs2011$povrec)
chs2011$povrec[chs2011$povrec==3] <- NA
chs2011$povrec[chs2011$povrec==3]
summary(chs2011$povrec)
chs2011$healthrec[chs2011$generalhealth < 4] <- 0
chs2011$healthrec[chs2011$generalhealth >= 4] <- 1
chs2011$healthrec[chs2011$generalhealth < 4]
chs2011$healthrec[chs2011$generalhealth < 4 & !is.na(chs2011$generalhealth)] <- 0
chs2011$healthrec[chs2011$generalhealth < 4 & !is.na(chs2011$generalhealth)]
chs2011$healthrec[chs2011$generalhealth >= 4 & !is.na(chs2011$generalhealth)] <- 1
chs2011$healthrec[chs2011$generalhealth >= 4 & !is.na(chs2011$generalhealth)]
chs2011$healthrec <- factor(chs2011$healthrec)
summary(factor(chs2011$generalhealth))
summary(chs2011$healthrec)
1368 + 637
chs2011$kesslerbin[chs2011$k6_12m >= 13] <- 0
chs2011$kesslerbin[chs2011$k6_12m < 13] <- 1
chs2011$kesslerbin[chs2011$k6_12m >= 13]
chs2011$kesslerbin[chs2011$k6_12m < 13]
chs2011$kesslerbin <- factor(chs2011$kesslerbin)
summary(chs2011$kesslerbin)
summary(factor(chs2011$k6_12m))
length(chs2011$k6_12m[chs2011$k6_12m >= 13])
length(chs2011$k6_12m[chs2011$k6_12m < 13])
chs2011$mhtbin[chs2011$pastyrmht == 1 & !is.na(chs2011$pastyrmht)] <- 0
chs2011$mhtbin[chs2011$pastyrmht >= 2 & !is.na(chs2011$pastyrmht)] <- 1
chs2011$mhtbin[chs2011$pastyrmht == 1 & !is.na(chs2011$pastyrmht)]
chs2011$mhtbin[chs2011$pastyrmht >= 2 & !is.na(chs2011$pastyrmht)]
chs2011$mhtbin <- factor(chs2011$mhtbin)
summary(chs2011$pastyrmht)
summary(factor(chs2011$pastyrmht))
summary(chs2011$mhtbin)
474+418+728
chs2011$nohm[chs2011$kesslerbin == 0 & chs2011$mhtbin == 0] <- 1
chs2011$nohm[is.na(chs2011$mhtbin)] < 0
chs2011$nohm[is.na(chs2011$mhtbin)] <- 0
chs2011$nohm[is.na(chs2011$mhtbin)]
chs2011$nohm[chs2011$kesslerbin == 0 & chs2011$mhtbin == 0]
chs2011$nohm[is.na(chs2011$mhtbin)] <- 0
chs2011$nohm[chs2011$kesslerbin == 0 & chs2011$mhtbin == 0] <- 1
chs2011$nohm[chs2011$kesslerbin == 0 & chs2011$mhtbin == 0]
chs2011$nohm[chs2011$kesslerbin == 0 & chs2011$mhtbin == 0 & !is.na(chs2011$kesslerbin)] <- 1
chs2011$nohm[chs2011$kesslerbin == 0 & chs2011$mhtbin == 0 & !is.na(chs2011$kesslerbin)]
chs2011$nohm[chs2011$kesslerbin == 0 & chs2011$mhtbin == 0 & !is.na(chs2011$mhtbin)] <- 1
chs2011$nohm[chs2011$kesslerbin == 0 & chs2011$mhtbin == 0 & !is.na(chs2011$mhtbin)]
chs2011$nohm[is.na(chs2011$mhtbin)] <- 0
chs2011$nohm[chs2011$kesslerbin == 0 & chs2011$mhtbin == 0] <- 1
chs2011$nohm[chs2011$kesslerbin == 0 & chs2011$mhtbin == 0]
chs2011$nohm <- factor(chs2011$nohm)
chs2011$nohm[chs2011$kesslerbin == 0 & chs2011$mhtbin == 0 & !is.na(chs2011$mhtbin)] <- 1
chs2011$nohm[chs2011$kesslerbin == 0 & chs2011$mhtbin == 0 & !is.na(chs2011$mhtbin)]
chs2011$nohm <- factor(chs2011$nohm)
summary(chs2011$nohm)
